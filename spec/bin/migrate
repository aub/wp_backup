#!/usr/bin/env ruby
require 'migrate'
begin
  require 'migrate/cli'
  Migrate::CLI.start
rescue Migrate::MigrateError => e
  puts e.message
  puts e.backtrace.join("\n")
  exit e.status_code
rescue Interrupt => e
  puts "\nQuitting..."
  puts e.backtrace.join("\n")
  exit 1
rescue SystemExit => e
  exit e.status
rescue Exception => e
  puts 'Fatal Error!'
  puts e.message
  puts e.backtrace.join("\n")
  raise e
end
